<script src='https://d3js.org/d3.v7.min.js'></script>
<script>
    let titaniccsv = 'https://raw.githubusercontent.com/dsindy/kaggle-titanic/master/data/test.csv';
    /*
    PassengerId,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked
    892,3,"Kelly, Mr. James",male,34.5,0,0,330911,7.8292,,Q
    893,3,"Wilkes, Mrs. James (Ellen Needs)",female,47,1,0,363272,7,,S
    894,2,"Myles, Mr. Thomas Francis",male,62,0,0,240276,9.6875,,Q
    895,3,"Wirz, Mr. Albert",male,27,0,0,315154,8.6625,,S
    */

    d3.csv(titaniccsv).then(function (data) {

        let number_of_names_containing_mr = 0;
        let number_of_names_containing_mrs = 0;

        let number_of_males = 0;
        let number_of_females = 0;

        for (let i = 0; i < data.length; i++) {

            //Count titles
            if (data[i].Name.includes("Mrs")) {
                number_of_names_containing_mrs++;
            } else if (data[i].Name.includes("Mr")) {
                number_of_names_containing_mr++;
            }

            //Count sex
            if (data[i].Sex == "male") {
                number_of_males++;
            } else if (data[i].Sex == "female") {
                number_of_females++;
            }

        }

        let number_of_names_containing_neither_mr_or_ms = data.length - number_of_names_containing_mr - number_of_names_containing_mrs;

        console.log("Number of names containing Mr: " + number_of_names_containing_mr);
        console.log("Number of names containing Mrs: " + number_of_names_containing_mrs);
        console.log("Number of names containing neither Mr or Mrs: " + number_of_names_containing_neither_mr_or_ms);
        console.log("Number of males: " + number_of_males);
        console.log("Number of females: " + number_of_females);
    });


</script>